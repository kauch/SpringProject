<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
   <head>
  		<link rel="stylesheet" th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}" />
      <title th:utext="${title}"></title>
   </head>
   <body class="text-center bg-light">
      <!-- Include _menu.html -->
      <th:block th:include="/_menu"></th:block>
       
      <h2>Admin Page</h2>
      <h3>Welcome :
         <span th:utext="${#request.userPrincipal.name}"></span>
      </h3>
      <b>This is protected page!</b>
      
      
      
       <div class="row" sec:authorize="isAuthenticated()">
        <h2 style="color:green">User is Logged In</h2>
        <p sec:authentication="principal.username">username</p>
    </div>

    <div class="row" sec:authorize="!isAuthenticated()">
        <h2 style="color:red">User is Logged Out</h2>
    </div>

    <div class="row" sec:authorize="hasRole('ROLE_ADMIN')">
        <h2>This will only be displayed if authenticated user has role ROLE_ADMIN.</h2>
    </div>

    <div class="row" sec:authorize="hasRole('ROLE_USER')">
        <h2>This will only be displayed if authenticated user has role ROLE_USER.</h2>
    </div>

      <div class="row" sec:authorize="hasRole('ROLE_ADMIN')">
    <div class="col-md-10 col-md-offset-2">
        <h2>User Has Role Admin</h2>
    </div>
	</div>
	<div class="row" sec:authorize="hasAuthority('ADMIN')">
    <div class="col-md-10 col-md-offset-2">
        <h2>User Has Authority Admin</h2>
    </div>
	</div>
      
      
      
      
      <table class = "table table-striped">
         <thead>
         <tr>
            <th>User ID</th>
            <th>User Name</th>
            <th>UserEmail</th>
         </tr>
         </thead>
         <tbody>
         <tr th:each="user :${usersList}">
            <td th:text="${user.getUserId()}">User ID</td>
            <td th:text="${user.getUserName()}">User Name</td>
            <td th:text="${user.getUserEmail()}">UserEmail</td>
         </tr>
         </tbody>
      </table> 
       
      <br/><br/>
       
      <div th:if="${userInfo != null}" th:utext="${userInfo}"></div>
       
	  <script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>
	  <script th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
   </body>
    
</html>